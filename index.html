
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Votación</title>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 20px; }
    .grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; }
    .card { cursor: pointer; border: 3px solid transparent; padding: 10px; border-radius: 10px; width: 150px; }
    .card.selected { border-color: red; }
    img { width: 100%; border-radius: 10px; }
  </style>
</head>
<body>
  <h1>Seleccioná 5 nominadas</h1>
  <div class="grid" id="grid"></div>
  <p id="estado"></p>
  <script>
    const participantes = [
      "Andrea Bazarte", "Natali Rodriguez", "Osmariel Villalobos", "Brittany Marroquin",
      "Azalia Arredondo", "Elba Mendoza", "Lidia Venegas", "Erika Marchena",
      "Skarxi Marte", "Jelissa Hernandez", "Maylin Hernandez", "Estefania Flores",
      "Daniela Castaño", "Genesis Davila", "Marcela Delgado", "Giselle Burgos",
      "Nitza Valdez", "Gemmy Quelliz", "Giorgiana Rosas"
    ];

    const grid = document.getElementById("grid");
    const estado = document.getElementById("estado");
    const seleccionadas = [];

    participantes.forEach(nombre => {
      const card = document.createElement("div");
      card.className = "card";
      const nombreArchivo = nombre.toLowerCase().replace(/ /g, "_") + ".jpeg";
      card.innerHTML = \`
        <img src="pdf_images/\${nombreArchivo}" alt="\${nombre}">
        <div>\${nombre}</div>
      \`;
      card.onclick = () => {
        if (seleccionadas.includes(nombre)) {
          seleccionadas.splice(seleccionadas.indexOf(nombre), 1);
          card.classList.remove("selected");
        } else if (seleccionadas.length < 5) {
          seleccionadas.push(nombre);
          card.classList.add("selected");
        }
        if (seleccionadas.length === 5) {
          estado.textContent = "Enviando votos...";
          fetch('/api/votos', {
            method: 'POST',
            body: JSON.stringify(seleccionadas),
          }).then(() => {
            estado.textContent = "¡Votos enviados correctamente!";
            setTimeout(() => window.location.href = 'resultados.html', 1500);
          });
        }
      };
      grid.appendChild(card);
    });
  </script>
</body>
</html>
